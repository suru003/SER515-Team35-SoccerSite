{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Referee } from '../../models/referee';\nlet RefereeNewApplicationListComponent = class RefereeNewApplicationListComponent {\n  constructor(route, router, refereeService) {\n    this.route = route;\n    this.router = router;\n    this.refereeService = refereeService;\n    this.referee = [];\n    this.roles = [];\n    this.newReferee = new Referee();\n    this.verifyUser = new Referee();\n    this.formdata = new FormGroup({\n      id: new FormControl(),\n      firstName: new FormControl(),\n      lastName: new FormControl(),\n      email: new FormControl(),\n      contactNo: new FormControl(),\n      username: new FormControl(),\n      password: new FormControl(),\n      address: new FormControl(),\n      city: new FormControl(),\n      country: new FormControl(),\n      roleID: new FormControl()\n    });\n    this.title = 'All Referees'; // this.newReferee = new Referee();\n  }\n\n  ngOnInit() {\n    this.refereeService.findByStatus(\"NEW\").subscribe(data => {\n      this.referee = data;\n      console.log(data);\n    });\n  }\n\n  deleteReferee() {\n    this.refereeService.deleteReferee(this.deleteUserID).subscribe(data => {\n      console.log(data);\n      this.viewAllUsers();\n    }, error => console.log(error));\n    this.closeModal();\n    this.refreshPage();\n  }\n\n  confirmDeletion(id) {\n    this.deleteUserID = id;\n    this.refereeService.findRefereeByID(id).subscribe(data => {\n      this.deleteRef = data;\n      this.deleteRef = Array.of(this.deleteRef);\n    }, error => console.log(error));\n  }\n\n  viewReferee(id) {\n    this.viewUserID = id;\n    console.log(\"id is:\" + id); // this.getRoles();\n\n    this.refereeService.findRefereeByID(id).subscribe(data => {\n      this.newRefereelist = data;\n      console.log(\"firstname\" + this.newRefereelist.lastName);\n      this.newRefereelist = Array.of(this.newRefereelist);\n      console.log(data);\n    }, error => console.log(error));\n  }\n\n  get refereeID() {\n    return this.viewUserID;\n  }\n\n  get refereeFirstN() {\n    return this.formdata.get('firstName');\n  }\n\n  get refereeLastN() {\n    return this.formdata.get('lastName');\n  }\n\n  get refereeEmail() {\n    return this.formdata.get('email');\n  }\n\n  get refereeContactNo() {\n    return this.formdata.get('contactNo');\n  }\n\n  get refereeUsername() {\n    return this.formdata.get('username');\n  }\n\n  get refereePassword() {\n    return this.formdata.get('password');\n  }\n\n  get refereeAddress() {\n    return this.formdata.get('address');\n  }\n\n  get refereeCity() {\n    return this.formdata.get('city');\n  }\n\n  get refereeCountry() {\n    return this.formdata.get('country');\n  }\n\n  get refereeRoleID() {\n    return this.formdata.get('roleID');\n  }\n\n  onSubmit() {\n    this.newReferee = new Referee();\n    this.newReferee.id = this.refereeID;\n    this.newReferee.firstName = this.refereeFirstN.value;\n    this.newReferee.lastName = this.refereeLastN.value;\n    this.newReferee.email = this.refereeEmail.value;\n    this.newReferee.contactNo = this.refereeContactNo.value;\n    this.newReferee.username = this.refereeUsername.value;\n    this.newReferee.password = this.refereePassword.value;\n    this.newReferee.address = this.refereeAddress.value;\n    this.newReferee.city = this.refereeCity.value;\n    this.newReferee.country = this.refereeCountry.value;\n    this.newReferee.roleID = this.refereeRoleID.value; // console.log(this.StudentBranch.value);  \n\n    this.refereeService.updateReferee(this.newReferee).subscribe(data => {\n      console.log(data);\n    }, error => console.log(error));\n    this.closeModal();\n    this.refreshPage();\n  }\n\n  verifyReferee() {\n    // this.verifyUserID = id;\n    console.log(\"verify id is\" + this.viewUserID);\n    this.verifyUser = new Referee();\n    console.log(\"trying to verify\");\n    this.refereeService.findRefereeByID(this.viewUserID).subscribe(data => {\n      this.findRef = data;\n      console.log(\"firstname\" + this.findRef.email); // this.newRefereelist = Array.of(this.newRefereelist);\n      // console.log(data);   \n\n      this.verifyUser.id = this.viewUserID;\n      this.verifyUser.firstName = this.findRef.firstName;\n      console.log(\"verifyuser firstname\" + this.findRef.firstName);\n      this.verifyUser.lastName = this.findRef.lastName;\n      this.verifyUser.email = this.findRef.email;\n      this.verifyUser.contactNo = this.findRef.contactNo;\n      this.verifyUser.username = this.findRef.username;\n      this.verifyUser.password = this.findRef.password;\n      this.verifyUser.address = this.findRef.address;\n      this.verifyUser.city = this.findRef.city;\n      this.verifyUser.country = this.findRef.country;\n      this.verifyUser.roleID = this.findRef.roleID;\n      this.verifyUser.status = \"VERIFIED\";\n      this.refereeService.updateReferee(this.verifyUser).subscribe(data => {\n        console.log(data);\n        this.closeModal();\n        this.refreshPage();\n      }, error => console.log(error));\n    }, error => console.log(error));\n  }\n\n  viewAllUsers() {\n    this.router.navigate(['/allusers']);\n  }\n\n  closeModal() {\n    this.close.nativeElement.click();\n  } // closeDeleteModal(){\n  //   this.closeDeleteModal.nativeElement.click();\n  // }\n\n\n  refreshPage() {\n    window.location.reload();\n  }\n\n  getRoles() {\n    this.refereeService.findAllRoles().subscribe(data => {\n      this.roles = data;\n      console.log(data);\n    });\n  }\n\n};\n\n__decorate([ViewChild('close')], RefereeNewApplicationListComponent.prototype, \"close\", void 0);\n\nRefereeNewApplicationListComponent = __decorate([Component({\n  selector: 'referee-new-application-list',\n  templateUrl: './referee-new-application-list.component.html',\n  styleUrls: ['./referee-new-application-list.component.css']\n})], RefereeNewApplicationListComponent);\nexport { RefereeNewApplicationListComponent };","map":null,"metadata":{},"sourceType":"module"}