{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Referee } from '../../models/referee';\nlet UserListComponent = class UserListComponent {\n  constructor(route, router, adminService) {\n    this.route = route;\n    this.router = router;\n    this.adminService = adminService;\n    this.user = [];\n    this.admins = [];\n    this.referee = [];\n    this.roles = [];\n    this.newReferee = new Referee();\n    this.formdata = new FormGroup({\n      id: new FormControl(),\n      firstName: new FormControl(),\n      lastName: new FormControl(),\n      email: new FormControl(),\n      contactNo: new FormControl(),\n      username: new FormControl(),\n      password: new FormControl(),\n      address: new FormControl(),\n      city: new FormControl(),\n      country: new FormControl(),\n      roleID: new FormControl()\n    });\n    this.title = 'All Referees'; // this.newReferee = new Referee();\n  }\n\n  ngOnInit() {\n    this.adminService.findAllReferees().subscribe(data => {\n      this.referee = data;\n      console.log(data);\n    });\n  }\n\n  deleteReferee() {\n    this.adminService.deleteReferee(this.deleteUserID).subscribe(data => {\n      console.log(data);\n      this.viewAllUsers();\n    }, error => console.log(error));\n    this.closeModal();\n    this.refreshPage();\n  }\n\n  confirmDeletion(id) {\n    this.deleteUserID = id;\n    this.adminService.findRefereeByID(id).subscribe(data => {\n      this.deleteRef = data;\n      this.deleteRef = Array.of(this.deleteRef);\n    }, error => console.log(error));\n  }\n\n  updateReferee(id) {\n    this.updateUserID = id;\n    console.log(\"id is:\" + id);\n    this.getRoles();\n    this.adminService.findRefereeByID(id).subscribe(data => {\n      this.newRefereelist = data;\n      this.newRefereelist = Array.of(this.newRefereelist);\n      console.log(data);\n    }, error => console.log(error));\n  }\n\n  get refereeID() {\n    return this.updateUserID;\n  }\n\n  get refereeFirstN() {\n    return this.formdata.get('firstName');\n  }\n\n  get refereeLastN() {\n    return this.formdata.get('lastName');\n  }\n\n  get refereeEmail() {\n    return this.formdata.get('email');\n  }\n\n  get refereeContactNo() {\n    return this.formdata.get('contactNo');\n  }\n\n  get refereeUsername() {\n    return this.formdata.get('username');\n  }\n\n  get refereePassword() {\n    return this.formdata.get('password');\n  }\n\n  get refereeAddress() {\n    return this.formdata.get('address');\n  }\n\n  get refereeCity() {\n    return this.formdata.get('city');\n  }\n\n  get refereeCountry() {\n    return this.formdata.get('country');\n  }\n\n  get refereeRoleID() {\n    return this.formdata.get('roleID');\n  }\n\n  onSubmit() {\n    this.newReferee = new Referee();\n    this.newReferee.id = this.refereeID;\n    this.newReferee.firstName = this.refereeFirstN.value;\n    this.newReferee.lastName = this.refereeLastN.value;\n    this.newReferee.email = this.refereeEmail.value;\n    this.newReferee.contactNo = this.refereeContactNo.value;\n    this.newReferee.username = this.refereeUsername.value;\n    this.newReferee.password = this.refereePassword.value;\n    this.newReferee.address = this.refereeAddress.value;\n    this.newReferee.city = this.refereeCity.value;\n    this.newReferee.country = this.refereeCountry.value;\n    this.newReferee.roleID = this.refereeRoleID.value; // console.log(this.StudentBranch.value);  \n\n    this.adminService.updateReferee(this.newReferee).subscribe(data => {\n      console.log(data);\n    }, error => console.log(error));\n    this.closeModal();\n    this.refreshPage();\n  }\n\n  viewAllUsers() {\n    this.router.navigate(['/allusers']);\n  }\n\n  closeModal() {\n    this.close.nativeElement.click();\n  } // closeDeleteModal(){\n  //   this.closeDeleteModal.nativeElement.click();\n  // }\n\n\n  refreshPage() {\n    window.location.reload();\n  }\n\n  getRoles() {\n    this.adminService.findAllRoles().subscribe(data => {\n      this.roles = data;\n      console.log(data);\n    });\n  }\n\n};\n\n__decorate([ViewChild('close')], UserListComponent.prototype, \"close\", void 0);\n\nUserListComponent = __decorate([Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css']\n})], UserListComponent);\nexport { UserListComponent };","map":null,"metadata":{},"sourceType":"module"}